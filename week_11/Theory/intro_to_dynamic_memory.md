# Динамична памет
До този момент неведнъж сме разглеждали диаграма за **C-program memory layout**. През изминалите упражнения се запознахме с автоматична(стекова) памет, както и статична памет.
Езикът С управлява памет по три начина: автоматично, статично и динамично. За ***static*** променливите се заделя памет преди изпълнението на програмата и се освобождава след нейното терминиране.
За ***automatic*** променливите се заделя памет при извикването на функцията, в която те са декларирани и бива освобождавана след нейното приключване. За да заделим блок от памет на стека или статично, то трябва неговият размер да е ***compile-time constant***, което е непостижимо, когато желаем този размер да бъде определен по време на изпълнение на програмата(***runtime***) посредством прочитане от конзолата или файл.

Областта на действие(продължителност на живот) на заделената памет също е повод за неудобство. Статичните променливи съществуват през целия ход на нашата програма, а автоматичната памет ни служи само в рамките на една функция. В много ситуации програмистът се нуждае от повече гъвкавост в управлението на паметта, с която борави.

Такъв тип проблеми ни решава именно динамичната памет(***dynamic memory***)
<img width="800" height="401" alt="image" src="https://github.com/user-attachments/assets/51440114-bb14-42ea-ad95-913dcacf0731" />



## Какво е динамична памет
Динамичната памет, наричана още ***heap memory*** е сегмент от паметта, която е асоциирана с даден процес, който изпълнява нашата програма. Тя се управлява ръчно от програмистта, като той има задължение да се грижи за нейното заделяне и освобождаване с цел оптимално използване на ресурсите. Тя няма нищо общо със структурата данни ***heap***. Името е произлиза поради исторически причини. В ранните имплементации на функциите за боравене с динамична памет паметта е била заделяна по неструтуриран начин, напомняйки на купчина от блокове памет.

## Какви проблеми решава динамичната памет
Динамичната памет позволява на програмистта ръчно да управлява цикъла на живот на променливите в паметта, както и ръчно да задава размер на блокове памет.

## C-program memory layout
Структурата на паметта в програмите писани на С има следната структура. На най-нисък адрес паметта се намира сегмента от памет, използван за съхранение на кода, който пишем преведен на машинни инструкции ***code segment***. На по- висок адрес, след сегмента за код, се намира кодът съдържащ глобалните и статичните променливи, наречен още ***data segment***. Той се разделя на две части. Едната е ***initialized data*** и това са глобалните/статични променливи, които са инициализирани с някаква стойност при тяхната декларация. Втората част се нарича ***uninitialized data*** и това са глобалните/статични променливи, които са декларирани, но не и инициализирани. По време на компилация те получават default стойност 0. След сегмента за глобални и статични променливи следват динамичната памет ***heap*** и стековата памет ***stack***.

## Допълнителни ресурси
https://en.wikipedia.org/wiki/C_dynamic_memory_allocation

https://www.geeksforgeeks.org/c/memory-layout-of-c-program/
