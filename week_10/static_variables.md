# Статични променливи

## Бързо интро на storage class-ове
Променливите в програмите на С имат продължителност на живот и видимост. Това е концепция, с която вече имате някакъв опит, макар не и директен. Вече сте виждали
глобални променливи (декларирани над **int main()**), които са достъпни от всяко място във вашата програма, както и локални променливи, декларирани в някоя функция.
Представете си, какво би станало, ако всички декларации на променливи в програмата ви се случваха в началото на вашата програма. Като за начало това би било както
бавно, така и неефикасно. Друг фактор е, че семантиката една програма изискват променливи да бъдат алокирани при влизане в блока, в който те са декларирани.
Нека за пример разгледаме една функция. Искаме при повторно нейно извикване да имаме нов комплект от променливи, а не да използваме стари такива.
Този тип управление на памет се постига чрез така наречените стекови рамки. Когато функция бъде извикана, всички променливи, необходими, за нейното
изпълнение. Тази стекова рамка, после, бива качена на стека и след като изпълнението на функцията приключи, тази памет бива освободена и рамката се 
премахва от стека. Това е така наречената **автоматична памет** или **auto storage class**

**Storage class-овете** са начин да управляваме видимостта и цикъла на живот на променливите в нашата програма и днес ще се запознаем с още един 
**storage class**, а именно **static**.

## Статични променливи
Статичните променливи биват алокирани точно преди началото на изпълненито на нашата програма и биват освободени след нейното приключване.
На пръв поглед това ни напомня на глобалните променливи като поведение, но това което ги различава наистина е видимостта. Можем да направим
локална променлива статична, което позволява тя да запази стойността си между различните извиквания на функцията, в която тя е декларирана.

<p>

```c
#include <stdio.h>
void shout() {
   static int counter = 10;
   i++
   printf("counter is %d\n", counter);
}

int main() {
  for (int i = 0; i < 5; ++i) 
    shout();
    
  return 0;
}
```
</p>

#### Резултатът от изпълнението на този код ще бъде:

<p>

```c
counter is 11
counter is 12
counter is 13
counter is 14
counter is 15
```
</p>

## Видове статични променливи
Статичните променливи биват инициализирани и неинициализирани.

**а) Инициализирани**
Инициализираните променливи получават своята стойност по време на компилация и биват съхранявани на по- нисък адрес в паметта, спрямо неинициализираните.

<p>

```c
// has initial value
static id = 10;

int main(void) {
return 0;
}

```
</p>

**а) Неинициализирани**
Неинициализираните променливи получават своята стойност 0 по време на компилация и биват съхранявани на по- висок адрес в паметта, спрямо инициализираните.

<p>

```c
// no initial value
static id;

int main(void) {
return 0;
}

```
</p>

<img width="604" height="350" alt="image" src="https://github.com/user-attachments/assets/0e23533f-0d78-44a6-ad1c-b2ff0360f20d" />


## Outro за static
**static** променливите притежават и други качества, освен продължителността им на живот и видимостта им на ниво един файл. Ще се занимаем с
ключовата дума пак в предстоящия курс по ООП.
