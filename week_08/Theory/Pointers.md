# Указатели
Досега се запознахме с основните аритметични типове в С, като ***(unsigned)char, (unsigned)short, (unsigned)int, (unsigned)long, float, double, long double***.
Остана да споменем още един скаларен тип, а именно указателите. Също като изучените досега типове, указателите имат адрес в паметта и заемат някакво място. Съществената разлика е, че вместо някаква директна стойност, която да използваме, те съхраняват адрес на друга променлива от някакъв тип. Можем да си мислим за тях като препратка. Указателите винаги имат размер 8 байта, без значение към какъв тип сочат.

<img width="1579" height="547" alt="image" src="https://github.com/user-attachments/assets/11fe7894-9598-4b91-a092-fb2723bbb6f6" />


## Синтаксис
**а) Декларация**

<p>
  
```c
int main()
{
  int* myPtr;
  return 0;
}
```
</p>


**б) Дефиниция и присвояване на стойност**
<p>
  
```c
int main()
{
  int var = 10;
  int* ptrVar = &var;
  
  return 0;
}
```
</p>

## Семантика
<img width="929" height="213" alt="image" src="https://github.com/user-attachments/assets/52c82e55-d3f5-453d-8a62-118b437fd07b" />

## Операторите & и *
При работа с указатели трябва да сме добре запознати със следните два оператора:

**а) Оператор &(address-of)**
Този оператор е с един от най-големите приоритети и с дясна асоциативност. Приложен отляво на променлива, той връща адреса ѝ в паметта.
<img width="1541" height="504" alt="image" src="https://github.com/user-attachments/assets/14beb633-4048-4ead-93c2-94e07dc2c9d8" />

**б) Оператор \*(dereference)**
Този оператор е с приоритет, равен на този на & и е дясно асоциативен. Приложен към променлива от тип *указател*, той достъпва стойността на променливата, към която указателят сочи. Той може да бъде прилаган само към променливи от тип *указател*
<img width="1528" height="521" alt="image" src="https://github.com/user-attachments/assets/19b88c21-1b73-430e-beb0-96e678f2ce07" />


## Аритметика с указатели
При работа с указатели можем да използваме само следните аритметични операции, а именно ***+(събиране)*** и ***-(изваждане)***. Но при указателите, тези оператори имат различно от познатото ни поведение. Като за начало, десният аргумент може да е единствено цяло число. По- съществената разлика, обаче, е че когато събираме/изваждаме някакво цяло число **х** от указател, всъщност ние прибавяме/изваждаме x-пъти по размера на типа ,към който сочи нашия указател.
<img width="1523" height="539" alt="image" src="https://github.com/user-attachments/assets/13b0de68-32c2-4965-b27f-417796eebee6" />

<p>
  
```c
  // What we write: (a_pointer + a_number)
  
  // What really happens: (a_pointer + (a_number * sizeof(*a_pointer)))
```
</p>

<img width="1614" height="634" alt="image" src="https://github.com/user-attachments/assets/adbb7c2d-b1a8-44f1-8c5a-ce2eb80cce8c" />

**а) Aритметика + приоритет на операции**
Нека си припомним, че суфиксните унарни оператори са с по-голям приоритет от префиксните унарни оператори. Имайки това предвид, нека разгледаме следния пример:

<p>
  
```c
  int* myPtr = 0x00;
  *myPtr++;
```
</p>

Към какво предполагате, че би сочил нашия указател?

## Указатели и const
Досега видяхме, че чрез указатели можем да достъпваме стойността на някаква променлива, да я четем, както и модифицираме. Но можем да декларираме и указатели, посредством които да можем единствено да достъпваме дадена стойност, но не и да я модифицираме

**а) Указател към const променлива**
<p>
  
```c
int main()
{
  int originalValue = 19;
  const int* ptr = &originalValue;

  int copyValue = *ptr; // прочитаме стойността
  *copyValue = copyValue; // Не се компилира, грешка!

  return 0;
}
```
</p>

**б) Указател към константна променлива??**
<p>
  
```c
int main()
{
    const int x = 10; 
    int* myPtr = &x; // За някои компилатори е валидна операция, за други не. Undefined behavior- Не го правете!
   
    return 0;
}
```
</p>

**в) Константен указател към променлива**
<p>
  
```c
int main()
{
    int x = 10;
    int* const myPtr = &x;
    
    *myPtr += 1; // Okay, x = 11
    myPtr = 0x0; // Не се компилира 
    
    return 0;
}
```
</p>

**г) Константен указател към константна променлива**
<p>
  
```c
int main()
{
    int x = 10;
    const int* const myPtr = &x;
    
    *myPtr += 1; // Не се компилира
    myPtr = 0x0; // Не се компилира 
    
    return 0;
}
```
</p>

**д) Указатели 101! Как четем декларация на указател?!**

<img width="530" height="261" alt="image" src="https://github.com/user-attachments/assets/07421f94-c46b-418e-91b0-9af69bf32bb1" />

Всичко преди звездата се отнася за типа, към който сочим. Всичко след звездата се отнася за самия указател
